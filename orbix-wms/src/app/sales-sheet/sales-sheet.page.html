<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title>My Sales Sheet</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>

  <ion-card>
    <ion-card-header>
      <ion-card-subtitle>Sheet Summary</ion-card-subtitle>
    </ion-card-header>
    <ion-card-content>
      <ion-grid>
        <ion-row>
          <ion-col size="5">Total Sales: </ion-col>
          <ion-col style="text-align: right;">{{totalSales | currency:'':''}}</ion-col>
        </ion-row>
        <ion-row>
          <ion-col size="5">Total Paid: </ion-col>
          <ion-col style="text-align: right;">{{totalPaid | currency:'':''}}</ion-col>
        </ion-row>
        <ion-row>
          <ion-col size="5">Total Discount: </ion-col>
          <ion-col style="text-align: right;">{{totalDiscount | currency:'':''}}</ion-col>
        </ion-row>
        <!--<ion-row>
          <ion-col size="5">Total Charges: </ion-col>
          <ion-col style="text-align: right;">{{totalCharges | currency:'':''}}</ion-col>
        </ion-row>-->
        <ion-row>
          <ion-col size="5">Total Due: </ion-col>
          <ion-col style="text-align: right;">{{totalDue | currency:'':''}}</ion-col>
        </ion-row>
        <hr>
        <ion-row>
          <ion-col size="5">Expenses: </ion-col>
          <ion-col style="text-align: right;">{{totalExpenses | currency:'':''}}</ion-col>
        </ion-row>
        <ion-row>
          <ion-col size="5">Bank Deposit/Cash: </ion-col>
          <ion-col style="text-align: right;">{{totalPaid - totalExpenses | currency:'':''}}</ion-col>
        </ion-row>
      </ion-grid>
    </ion-card-content>
  </ion-card>

  <ion-card>
    <ion-card-header>
      <ion-card-subtitle>Sheet Details</ion-card-subtitle>
    </ion-card-header>
  </ion-card>

  <ion-accordion-group>
    <ion-accordion value={{sale.no}} *ngFor="let sale of salesSheetSales">
      <ion-item slot="header" color="light">
        <ion-grid>
          <ion-row>
            <ion-label><ion-col>Customer: <b>{{sale.customerName}}</b></ion-col></ion-label>
          </ion-row>
          <ion-row>
            <ion-col>Mobile: {{sale.customerMobile}}</ion-col>
          </ion-row>
          <ion-row>
            <ion-col>Location: {{sale.customerLocation}}</ion-col>
          </ion-row>
          <ion-row>
            <ion-col>Total Amount: {{sale.totalAmount | currency:'':''}}</ion-col>
          </ion-row>
          <ion-row>
            <ion-col>Amount Paid: {{sale.totalPaid | currency:'':''}}</ion-col>
          </ion-row>
          <ion-row>
            <ion-col>Total Discount: {{sale.totalDiscount | currency:'':''}}</ion-col>
          </ion-row>
          <!--<ion-row>
            <ion-col>Total Charges: {{sale.totalCharges | currency:'':''}}</ion-col>
          </ion-row>-->
          <ion-row>
            <ion-col>Total Due: {{sale.totalDue | currency:'':''}}</ion-col>
          </ion-row>
        </ion-grid>
      </ion-item>
      <div class="ion-padding" slot="content">
        
        <ion-card *ngFor="let p of sale.salesSheetSaleDetails" style="margin: 0px; padding: 0px;">
          <ion-card-content style="margin: 0px; padding: 0px;">
            <ion-grid>
              <ion-row>
                <ion-col>
                  <b>{{p.qty}}</b> *  [{{p.code}}] {{p.description}} @{{p.price | currency:'':''}} = {{p.price*p.qty | currency:'':''}}<br>
                </ion-col>
              </ion-row>
            </ion-grid>
          </ion-card-content>
        </ion-card>
      </div>
      <hr>
    </ion-accordion>
    
  </ion-accordion-group>

</ion-content>
